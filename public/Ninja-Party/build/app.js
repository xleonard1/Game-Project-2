!function(e){function t(t){for(var s,r,o=t[0],l=t[1],d=t[2],c=0,u=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(h&&h(t);u.length;)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={0:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var h=l;i.push([1,1]),a()}([,function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=e=>{e.create({key:"ninja1_idle",frames:[{key:"ninja1_idle1",frame:null},{key:"ninja1_idle2",frame:null},{key:"ninja1_idle3",frame:null},{key:"ninja1_idle4",frame:null},{key:"ninja1_idle5",frame:null}],frameRate:8,repeat:-1}),e.create({key:"ninja1_run",frames:[{key:"ninja1_run1",frame:null},{key:"ninja1_run2",frame:null},{key:"ninja1_run3",frame:null},{key:"ninja1_run4",frame:null},{key:"ninja1_run5",frame:null},{key:"ninja1_run6",frame:null},{key:"ninja1_run7",frame:null},{key:"ninja1_run8",frame:null}],frameRate:8,repeat:-1}),e.create({key:"ninja1_jump",frames:[{key:"ninja1_jump1",frame:null},{key:"ninja1_jump2",frame:null},{key:"ninja1_jump3",frame:null}],frameRate:2,repeat:1}),e.create({key:"ninja1_attack",frames:[{key:"ninja1_attack1",frame:null},{key:"ninja1_attack2",frame:null},{key:"ninja1_attack3",frame:null},{key:"ninja1_attack4",frame:null},{key:"ninja1_attack5",frame:null},{key:"ninja1_attack6",frame:null}],frameRate:8,repeat:-1}),e.create({key:"ninja1_sword",frames:[{key:"ninja1_sword1",frame:null},{key:"ninja1_sword2",frame:null},{key:"ninja1_sword3",frame:null},{key:"ninja1_sword4",frame:null},{key:"ninja1_sword5",frame:null},{key:"ninja1_sword6",frame:null}],frameRate:8,repeat:0}),e.create({key:"Skeleton",frames:e.generateFrameNumbers("Skeleton",{start:0,end:3}),frameRate:4,repeat:-1}),e.create({key:"Skeleton",frames:e.generateFrameNumbers("Skeleton",{start:0,end:3}),frameRate:4,repeat:-1})};class r extends n.a.Physics.Arcade.Sprite{constructor(e,t,a){super(e,t,a,"ninja1"),e.add.existing(this),e.physics.add.existing(this),this.init(),this.initEvents()}init(){this.gravity=500,this.playerSpeed=250,this.jumpCount=0,this.consecutiveJumps=1,this.hasBeenHit=!1,this.bounceVelocity=250,this.setSize(this.width-54,this.height-47),this.setOffset(26,34),this.health=100,this.jumpSound=this.scene.sound.add("jump",{loop:!1,volume:.4}),this.swordSound=this.scene.sound.add("sword",{loop:!1,volume:.2}),this.cursors=this.scene.input.keyboard.createCursorKeys(),this.body.setGravityY(this.gravity),this.setCollideWorldBounds(!0),i(this.scene.anims)}initEvents(){this.scene.events.on(n.a.Scenes.Events.UPDATE,this.update,this)}update(){if(this.hasBeenHit||!this.body)return;const{left:e,right:t,space:a,up:s}=this.cursors,i=n.a.Input.Keyboard.JustDown(s),r=n.a.Input.Keyboard.JustDown(a),o=this.body.onFloor();e.isDown?(this.setVelocityX(-this.playerSpeed),this.setFlipX(!0)):t.isDown?(this.setVelocityX(this.playerSpeed),this.setFlipX(!1)):this.setVelocityX(0),i&&(o||this.jumpCount<this.consecutiveJumps)&&(this.jumpSound.play(),this.setVelocityY(2.5*-this.playerSpeed),this.jumpCount++),o&&(this.jumpCount=0),r?this.play("ninja1_sword",!0)&&this.swordSound.play():o?0!==this.body.velocity.x?this.play("ninja1_run",!0):this.play("ninja1_idle",!0):this.play("ninja1_jump",!0)}}var o=r;class l extends n.a.Physics.Arcade.Sprite{constructor(e,t,a){super(e,t,a,"Skeleton"),e.add.existing(this),e.physics.add.existing(this),this.init(),this.initEvents()}init(){this.gravity=1e3,this.speed=250,this.setSize(this.width-120,this.height-99),this.setOffset(60,49),this.setImmovable(!0),this.setCollideWorldBounds(!0),this.setOrigin(.5,1),this.body.setGravityY(this.gravity),i(this.scene.anims)}initEvents(){this.scene.events.on(n.a.Scenes.Events.UPDATE,this.update,this)}update(){if(this.hasBeenHit||!this.body)return;this.body.onFloor()&&this.play("Skeleton",!0)}}var d=l;class h extends n.a.Events.EventEmitter{constructor(){super()}}var c=new h,u=0,y={score:u};const p=[];var m;const g=[];var j,_;const f=(e,t,a,s)=>{let n=0;for(let i=0;i<t;i++){n+=e.add.image(n,e.scale.height,a).setOrigin(0,1).setScrollFactor(s).width}};class k extends n.a.Scene{constructor(e){super("PlayScene"),this.config=e}create(){this.createGameEvents(),j=this.input.keyboard.createCursorKeys(),this.physics.world.setBounds(0,0,this.width,745);const e=this.scale.width,t=this.scale.height;f(this,1e3,"layer1",0),f(this,1e3,"layer2",.1),f(this,1e3,"layer3",.2),f(this,1e3,"layer4",.3),f(this,1e3,"layer5",.4),f(this,1e3,"layer6",.5),f(this,1e3,"layer7",.6),f(this,1e3,"layer8",.7),f(this,1e3,"layer9",.8),f(this,1e3,"layer10",.9),f(this,1e3,"layer11",1);var a=this.add.sprite(625,400,"START");a.setInteractive(),a.on("pointerdown",(()=>{const e=this.createPlayer();e.setCollideWorldBounds(!0),g.push(e),this.setupFollowupCameraOn(e),e.health=100,m=0;this.add.graphics().fillStyle(2420749).fillRect(25,25,200,25).setScrollFactor(0);_=this.add.graphics().fillStyle(2420749).fillRect(25,25,200,25).setScrollFactor(0),this.enemyGroup=this.physics.add.group();this.createManySprites(this,100,d);this.physics.add.collider(e,this.enemyGroup,this.takesHit,(()=>this.add.graphics().fillStyle(16266240).fillRect(225,25,m,25).setScrollFactor(0)))})),a.on("pointerdown",(()=>{y.scoreText=this.add.text(23,60,"Score: 0",{fontSize:"25px",fill:"#000000"}),y.scoreText.setScrollFactor(0),this.playMusic(),a.destroy(!0),this.cameras.main.setBounds(0,0,1e3*e,t)}))}update(e,t){this.killEnemy(),this.checkDirection(),this.followTheLeader()}createPlayer(){return new o(this,100,.5).setScale(4.3).setCollideWorldBounds(!0)}createEnemy(){return new d(this,100,.5).setScale(2)}setupFollowupCameraOn(e){this.cameras.main.startFollow(e).scrollX+=4}createManySprites(e,t,a){for(var s=0;s<t;s++){var i=this.physics.add.existing(new a(this,n.a.Math.Between(1e3,this.game.config.width+1e4),8300)).setScale(2);this.enemyGroup.add(i),i.setVelocityX(-100*Math.random()+40),i.body.setGravityY(5e3),p.push(i);i.body.velocity.x;i.setCollideWorldBounds(!0),i.setImmovable(!0)}}checkDirection(){for(var e=0;e<p.length;e++){if(!p[e].body)return;p[e].body.velocity.x<0?p[e].setFlipX(!0):p[e].body.velocity.x>0&&p[e].setFlipX(!1)}}followTheLeader(){for(var e=0;e<p.length;e++)for(var t=0;t<g.length;t++){if(!g[t].body)return;p[e].body.x<g[t].x&&p[e].body.velocity.x<0||p[e].body.x>g[t].x&&p[e].body.velocity.x>0?p[e].setVelocityX(-1*p[e].body.velocity.x):(p[e].body.x<g[t].x&&p[e].body.velocity.x>0||p[e].body.x>g[t].x&&p[e].body.velocity.x<0)&&p[e].setVelocityX(p[e].body.velocity.x)}}killEnemy(){for(var e=0;e<p.length;e++){if(!p[e].body)return;for(var t=0;t<g.length;t++)Math.abs(p[e].body.x-g[t].body.x)<108&&Math.abs(p[e].body.y-g[t].body.y)<50&&j.space.isDown&&(p[e].setCollideWorldBounds(!1),y.scoreText.setText("Score: "+(u+=5)),console.log(u))}}decrementHealth(){for(var e=0;e<p.length;e++)for(var t=0;t<g.length;t++)Math.abs(p[e].body.x-g[t].body.x)<45&&Math.abs(p[e].body.y-g[t].body.y)}takesHit(){if(this.hasBeenHit=!0,m>-200&&(m-=1),_.setVisible(!1),-200===m){let e=JSON.stringify({message:u});return window.parent.postMessage(e,"*"),console.log(u),void c.emit("GAME_OVER")}}createGameEvents(){c.on("GAME_OVER",(()=>{this.scene.restart()}))}playMusic(){-200===m?this.sound.add("theme",{loop:!0,volume:.5}).stop():this.sound.add("theme",{loop:!0,volume:.5}).play()}}var v=k;class w extends n.a.Scene{constructor(){super("PreloadScene")}preload(){this.load.audio("theme","assets/Sounds/theme.wav"),this.load.audio("jump","assets/Sounds/jump.wav"),this.load.audio("sword","assets/Sounds/sword.wav"),this.load.image("ninja1","assets/Ninjas/ninja 1_idle_0.png"),this.load.image("ninja1_idle1","assets/Ninjas/ninja 1_idle_0.png"),this.load.image("ninja1_idle2","assets/Ninjas/ninja 1_idle_1.png"),this.load.image("ninja1_idle3","assets/Ninjas/ninja 1_idle_2.png"),this.load.image("ninja1_idle4","assets/Ninjas/ninja 1_idle_3.png"),this.load.image("ninja1_idle5","assets/Ninjas/ninja 1_idle_4.png"),this.load.image("ninja1_run1","assets/Ninjas/ninja 1_run_0.png"),this.load.image("ninja1_run2","assets/Ninjas/ninja 1_run_1.png"),this.load.image("ninja1_run3","assets/Ninjas/ninja 1_run_2.png"),this.load.image("ninja1_run4","assets/Ninjas/ninja 1_run_3.png"),this.load.image("ninja1_run5","assets/Ninjas/ninja 1_run_4.png"),this.load.image("ninja1_run6","assets/Ninjas/ninja 1_run_5.png"),this.load.image("ninja1_run7","assets/Ninjas/ninja 1_run_6.png"),this.load.image("ninja1_run8","assets/Ninjas/ninja 1_run_7.png"),this.load.image("ninja1_jump1","assets/Ninjas/ninja 1_jump_0.png"),this.load.image("ninja1_jump2","assets/Ninjas/ninja 1_jump_1.png"),this.load.image("ninja1_jump3","assets/Ninjas/ninja 1_jump_2.png"),this.load.image("ninja1_attack1","assets/Ninjas/ninja 1_attack_0.png"),this.load.image("ninja1_attack2","assets/Ninjas/ninja 1_attack_1.png"),this.load.image("ninja1_attack3","assets/Ninjas/ninja 1_attack_2.png"),this.load.image("ninja1_attack4","assets/Ninjas/ninja 1_attack_3.png"),this.load.image("ninja1_attack5","assets/Ninjas/ninja 1_attack_4.png"),this.load.image("ninja1_attack6","assets/Ninjas/ninja 1_attack_5.png"),this.load.image("ninja1_sword1","assets/Ninja-Attack/two hands sword 1_attack_0.png"),this.load.image("ninja1_sword2","assets/Ninja-Attack/two hands sword 1_attack_1.png"),this.load.image("ninja1_sword3","assets/Ninja-Attack/two hands sword 1_attack_2.png"),this.load.image("ninja1_sword4","assets/Ninja-Attack/two hands sword 1_attack_3.png"),this.load.image("ninja1_sword5","assets/Ninja-Attack/two hands sword 1_attack_4.png"),this.load.image("ninja1_sword6","assets/Ninja-Attack/two hands sword 1_attack_5.png"),this.load.spritesheet("Skeleton","assets/Monsters/Skeleton/Walk.png",{frameWidth:150,frameHeight:150}),this.load.image("layer1","assets/Background/Layer_1.png"),this.load.image("layer2","assets/Background/Layer_2.png"),this.load.image("layer3","assets/Background/Layer_3.png"),this.load.image("layer4","assets/Background/Layer_4.png"),this.load.image("layer5","assets/Background/Layer_4Lights.png"),this.load.image("layer6","assets/Background/Layer_04Lights.png"),this.load.image("layer7","assets/Background/Layer_5.png"),this.load.image("layer8","assets/Background/Layer_6.png"),this.load.image("layer9","assets/Background/Layer_7.png"),this.load.image("layer10","assets/Background/Layer_8.png"),this.load.image("layer11","assets/Background/Layer_9.png"),this.load.tilemapTiledJSON("Ground","assets/Tilesets/Ground_Layer.json"),this.load.image("START","assets/Background/START.png")}create(){this.scene.start("PlayScene")}}const b={width:1280,height:800},S=[w,v],x=e=>new e(b),N={type:n.a.AUTO,...b,pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:500},debug:!1,checkCollision:{up:!0,down:!0,left:!0,right:!1}}},scene:S.map(x)};new n.a.Game(N)}]);